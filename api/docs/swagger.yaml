definitions:
  main.APIStatus:
    properties:
      message:
        type: string
    type: object
  main.AppResponse:
    properties:
      data:
        $ref: '#/definitions/types.App'
      message:
        type: string
    type: object
  main.BrowserResponse:
    properties:
      data:
        $ref: '#/definitions/types.BrowserStats'
      message:
        type: string
    type: object
  main.CountryResponse:
    properties:
      data:
        $ref: '#/definitions/types.CountryStats'
      message:
        type: string
    type: object
  main.CreateAppRequest:
    properties:
      name:
        type: string
    type: object
  main.DeviceResponse:
    properties:
      data:
        $ref: '#/definitions/types.DeviceStats'
      message:
        type: string
    type: object
  main.OSResponse:
    properties:
      data:
        $ref: '#/definitions/types.OSStats'
      message:
        type: string
    type: object
  main.PageResponse:
    properties:
      data:
        $ref: '#/definitions/types.PageStats'
      message:
        type: string
    type: object
  main.ReferralResponse:
    properties:
      data:
        $ref: '#/definitions/types.ReferralStats'
      message:
        type: string
    type: object
  types.App:
    properties:
      created_at:
        type: string
      name:
        type: string
      trackingID:
        type: string
    type: object
  types.BrowserStats:
    properties:
      browser:
        type: string
      percentage:
        type: integer
    type: object
  types.CountryStats:
    properties:
      country:
        type: string
      percentage:
        type: integer
    type: object
  types.DeviceStats:
    properties:
      device:
        type: string
      percentage:
        type: integer
    type: object
  types.OSStats:
    properties:
      operating_system:
        type: string
      percentage:
        type: integer
    type: object
  types.PageStats:
    properties:
      path:
        type: string
      visitor_count:
        type: integer
    type: object
  types.ReferralStats:
    properties:
      referrer:
        type: string
      visitor_count:
        type: integer
    type: object
info:
  contact: {}
  description: Analytics API for tracking and managing app data.
  title: Minalytics API
  version: "1.0"
paths:
  /analytics/browsers:
    get:
      consumes:
      - application/json
      description: Retrieves browser stats
      parameters:
      - description: app tracking ID
        in: query
        name: trackingID
        required: true
        type: string
      - description: start date
        in: query
        name: startDate
        required: true
        type: string
      - description: end date
        in: query
        name: endDate
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: stats fetched successfully
          schema:
            $ref: '#/definitions/main.BrowserResponse'
        "400":
          description: invalid request paramaters
          schema:
            $ref: '#/definitions/main.APIStatus'
        "500":
          description: failed to fetch browsers
          schema:
            $ref: '#/definitions/main.APIStatus'
      security:
      - BearerAuth: []
      summary: Get Browsers
      tags:
      - Analytics
  /analytics/countries:
    get:
      consumes:
      - application/json
      description: Retrieves country stats
      parameters:
      - description: app tracking ID
        in: query
        name: trackingID
        required: true
        type: string
      - description: start date
        in: query
        name: startDate
        required: true
        type: string
      - description: end date
        in: query
        name: endDate
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: stats fetched successfully
          schema:
            $ref: '#/definitions/main.CountryResponse'
        "400":
          description: invalid request paramaters
          schema:
            $ref: '#/definitions/main.APIStatus'
        "500":
          description: failed to fetch countries
          schema:
            $ref: '#/definitions/main.APIStatus'
      security:
      - BearerAuth: []
      summary: Get Countries
      tags:
      - Analytics
  /analytics/devices:
    get:
      consumes:
      - application/json
      description: Retrieves device stats
      parameters:
      - description: app tracking ID
        in: query
        name: trackingID
        required: true
        type: string
      - description: start date
        in: query
        name: startDate
        required: true
        type: string
      - description: end date
        in: query
        name: endDate
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: stats fetched successfully
          schema:
            $ref: '#/definitions/main.DeviceResponse'
        "400":
          description: invalid request paramaters
          schema:
            $ref: '#/definitions/main.APIStatus'
        "500":
          description: failed to fetch devices
          schema:
            $ref: '#/definitions/main.APIStatus'
      security:
      - BearerAuth: []
      summary: Get Devices
      tags:
      - Analytics
  /analytics/os:
    get:
      consumes:
      - application/json
      description: Retrieves operating system stats
      parameters:
      - description: app tracking ID
        in: query
        name: trackingID
        required: true
        type: string
      - description: start date
        in: query
        name: startDate
        required: true
        type: string
      - description: end date
        in: query
        name: endDate
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: stats fetched successfully
          schema:
            $ref: '#/definitions/main.OSResponse'
        "400":
          description: invalid request paramaters
          schema:
            $ref: '#/definitions/main.APIStatus'
        "500":
          description: failed to fetch operating systems
          schema:
            $ref: '#/definitions/main.APIStatus'
      security:
      - BearerAuth: []
      summary: Get OS
      tags:
      - Analytics
  /analytics/pages:
    get:
      consumes:
      - application/json
      description: Retrieves page stats
      parameters:
      - description: app tracking ID
        in: query
        name: trackingID
        required: true
        type: string
      - description: start date
        in: query
        name: startDate
        required: true
        type: string
      - description: end date
        in: query
        name: endDate
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: stats fetched successfully
          schema:
            $ref: '#/definitions/main.PageResponse'
        "400":
          description: invalid request paramaters
          schema:
            $ref: '#/definitions/main.APIStatus'
        "500":
          description: failed to fetch pages
          schema:
            $ref: '#/definitions/main.APIStatus'
      security:
      - BearerAuth: []
      summary: Get Pages
      tags:
      - Analytics
  /analytics/referrals:
    get:
      consumes:
      - application/json
      description: Retrieves referral stats
      parameters:
      - description: app tracking ID
        in: query
        name: trackingID
        required: true
        type: string
      - description: start date
        in: query
        name: startDate
        required: true
        type: string
      - description: end date
        in: query
        name: endDate
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: stats fetched successfully
          schema:
            $ref: '#/definitions/main.ReferralResponse'
        "400":
          description: invalid request paramaters
          schema:
            $ref: '#/definitions/main.APIStatus'
        "500":
          description: failed to fetch referrals
          schema:
            $ref: '#/definitions/main.APIStatus'
      security:
      - BearerAuth: []
      summary: Get Referrals
      tags:
      - Analytics
  /analytics/track:
    get:
      consumes:
      - application/json
      description: Tracks an event based on encoded data
      parameters:
      - description: Base64 encoded event data
        in: query
        name: data
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Event tracked successfully
          schema:
            $ref: '#/definitions/main.APIStatus'
        "400":
          description: Invalid base64 or JSON data
          schema:
            $ref: '#/definitions/main.APIStatus'
        "500":
          description: Failed to resolve geolocation or track event
          schema:
            $ref: '#/definitions/main.APIStatus'
      summary: Track an event
      tags:
      - Analytics
  /apps:
    get:
      consumes:
      - application/json
      description: Retrieves user apps
      produces:
      - application/json
      responses:
        "200":
          description: apps fetched successfully
          schema:
            $ref: '#/definitions/main.AppResponse'
        "401":
          description: userID not found in context
          schema:
            $ref: '#/definitions/main.APIStatus'
        "500":
          description: failed to fetch apps
          schema:
            $ref: '#/definitions/main.APIStatus'
      security:
      - BearerAuth: []
      summary: Get Apps
      tags:
      - Apps
    post:
      consumes:
      - application/json
      description: creates an app
      parameters:
      - description: app name
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/main.CreateAppRequest'
      produces:
      - application/json
      responses:
        "200":
          description: app created successfully
          schema:
            $ref: '#/definitions/main.AppResponse'
        "400":
          description: invalid request body
          schema:
            $ref: '#/definitions/main.APIStatus'
        "401":
          description: userID not found in context
          schema:
            $ref: '#/definitions/main.APIStatus'
        "500":
          description: failed to create app
          schema:
            $ref: '#/definitions/main.APIStatus'
      security:
      - BearerAuth: []
      summary: Create App
      tags:
      - Apps
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
